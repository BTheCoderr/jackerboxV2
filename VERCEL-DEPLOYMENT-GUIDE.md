# JackerBox Deployment Guide for Vercel

This guide will walk you through deploying JackerBox to Vercel, a cloud platform optimized for Next.js applications.

## Prerequisites

1. A GitHub account with your JackerBox repository
2. A Vercel account (you can sign up at https://vercel.com using your GitHub account)
3. A production PostgreSQL database (Supabase, Railway, etc.)
4. All necessary API keys and credentials for third-party services

## Step 1: Set Up Your Production Database

1. Create a PostgreSQL database with your chosen provider
2. Note your database connection string, which should look like:
   ```
   postgresql://username:password@host:port/database?schema=public
   ```

## Step 2: Prepare Your Database Schema

1. Update your local `.env` file with the production database connection:
   ```
   DATABASE_URL="your-production-db-connection-string"
   ```

2. Generate and apply migrations:
   ```bash
   npx prisma migrate deploy
   ```

## Step 3: Connect Your GitHub Repository to Vercel

1. Log in to your Vercel account
2. Click on "Add New" > "Project"
3. Import your GitHub repository containing JackerBox
4. Configure the project:
   - Framework Preset: Next.js
   - Root Directory: ./ (or your project root if in a subdirectory)

## Step 4: Configure Environment Variables

Add the following environment variables in the Vercel project settings:

```
# Database
DATABASE_URL="postgresql://username:password@host:port/database?schema=public"
DIRECT_DATABASE_URL="postgresql://username:password@host:port/database?schema=public"

# Next Auth
NEXTAUTH_URL="https://your-vercel-app-url.vercel.app" (Will be auto-generated by Vercel)
NEXTAUTH_SECRET="your-secure-random-string"

# Other environment variables from your .env.production file
# (Stripe, Cloudinary, Email service, etc.)
```

## Step 5: Deploy

1. Click "Deploy" to start the deployment process
2. Vercel will build and deploy your application
3. Once complete, you'll receive a URL for your deployed application

## Step 6: Set Up a Custom Domain (Optional)

1. In your Vercel project, go to "Settings" > "Domains"
2. Add your custom domain (e.g., jackerbox.com)
3. Follow the instructions to set up DNS records with your domain provider

## Step 7: Set Up Continuous Deployment

1. By default, Vercel will automatically deploy when you push to the main branch
2. You can configure additional settings in "Settings" > "Git"
3. Consider setting up Preview Deployments for pull requests

## Step 8: Set Up Monitoring and Analytics

1. Vercel provides built-in analytics and monitoring
2. Go to "Analytics" in your project dashboard
3. For more detailed monitoring:
   - Set up Sentry for error tracking
   - Connect to Vercel's Runtime Logs
   - Consider Datadog or New Relic for deeper insights

## Step 9: Test the Deployed Application

1. Verify all features work in the production environment
2. Test user journeys from the MVP checklist
3. Check mobile responsiveness
4. Test payment processing

## Step 10: Post-Deployment Tasks

1. Set up a database backup schedule
2. Configure Vercel's health checks
3. Set up alerts for critical errors
4. Monitor performance metrics

## Handling Production Issues

If you encounter issues after deployment:

1. Check Vercel's deployment logs
2. Review the application logs
3. Check for database connection issues
4. Test environment variables are correctly set

## Security Best Practices

1. Enable Two-Factor Authentication for your Vercel account
2. Restrict access to your production database
3. Regularly rotate API keys and secrets
4. Keep your dependencies updated with `npm audit`

## Scaling Your Application

As your user base grows:

1. Consider upgrading your database plan
2. Look into Vercel's Edge Functions for global performance
3. Implement caching strategies
4. Use Content Delivery Networks (CDNs) for assets

## Useful Vercel Commands

```bash
# Install Vercel CLI
npm i -g vercel

# Log in to Vercel
vercel login

# Deploy to production
vercel --prod

# Link to existing project
vercel link
```

## Additional Resources

- [Vercel Documentation](https://vercel.com/docs)
- [Next.js Deployment Documentation](https://nextjs.org/docs/deployment)
- [Prisma Deployment Best Practices](https://www.prisma.io/docs/guides/deployment/deployment) 